---
interface Props {
    nVol: number,
    yr: number,
    mn: number,
    dt: number,
    timeFrom: number,
    timeTo: number,
    place0: string,
    place1: string,
    hashtag: string,
    heldBy: string,
    imgName: string
}

const {nVol, yr, mn, dt, timeFrom, timeTo, place0, place1, hashtag, heldBy, imgName} = Astro.props

const dayOfWeek = ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"];
const day = dayOfWeek[new Date(yr, mn, dt).getDay()]

type time = {
    hr: number,
    mn: number
}

if (String(timeFrom).length != 4 || String(timeTo).length != 4){
    throw new Error(
        `Invalid timeFrom or timeTo. Both are must be 4 digits number.\n
        from: ${timeFrom}\n
        to: ${timeTo}`
    )
}

const tFrom: time = {
    hr: Math.floor(timeFrom / 100),
    mn: (timeFrom / 100 % 1) * 100
}
const tTo: time = {
    hr: Math.floor(timeTo / 100),
    mn: (timeTo / 100 % 1) * 100
}

---

<div class="wrapper w-full h-full min-h-screen text-white flex justify-between items-center flex-col">
    <p class="font-nijimi py-3">オーディオビジュアルイベント / フロウ vol.{nVol}</p>

    <div class="info font-shan w-4/5 md:w-1/3 pt-24">
        <h1 class="font-nijimi mb-10">
            <img src="/images/Flow_Logo_Large.webp" alt="Flowのロゴ" class="w-full object-contain">
        </h1>

        <ul>
            <li>{mn}/{dt}. {day}</li>
            <li>{tFrom.hr}:{String(tFrom.mn).padStart(2, "0")}~{tTo.hr}:{String(tTo.mn).padStart(2, "0")}</li>
        </ul>
        <ul>
            <li><small>at</small> {place0}</li>
            <li>
                on {place1}<br>
                {hashtag}
            </li>
        </ul>
    </div>

    <div class="
        w-full flex
        flex-col sm:flex-row justify-around items-center gap-4
        px-5
        font-nijimi
        pb-3"
    >
        <p>参加無料・予約不要・入退室自由</p>

        <div class="flex gap-2 items-center">
            <p class="font-nijimi">Produced by {heldBy}</p>
            <img src=`/images/${imgName}` alt=`${heldBy}のロゴ` style="height:50px; width:auto;">
        </div>
    </div>
</div>

<style>
    .info ul{
        text-align: end;
        margin-top: .5rem;
        margin-top: .5rem;
    }

    .info ul li{
        font-size: 1.875rem;
        line-height: 2.25rem;
    }
    .info ul li:first-child{
        font-weight: bold;
    }
    .info ul li:last-child{
        font-size: 1.125rem;
        line-height: 1.75rem;
    }
</style>